<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8" />
		<title>文章内容</title>
		<script type="text/javascript" src="../js/jquery-3.3.1.min.js" ></script>
		<script type="text/javascript" src="../js/jquery.cookie.js" ></script>
		<link rel="stylesheet" type="text/css" href="../layui/css/layui.css"/>
		<link rel="stylesheet" type="text/css" href="../css/animate.css"/>
		<link rel="stylesheet" type="text/css" href="../css/current-page.css"/>
		<link rel="stylesheet" type="text/css" href="../font-awesome/css/font-awesome.css"/>
		<link rel="stylesheet" type="text/css" href="../css/media.css"  media="screen"/>
		<link rel="stylesheet" type="text/css" href="../css/similar.css"/>
		<link rel="stylesheet" href="../css/detail.css" />
		<link rel="stylesheet" href="../css/pretiffy.css" />
	</head>

    <style>
        a:hover{
            cursor: pointer;
        }
    </style>
	<body>
		





    <!--上方导航-->
    <div th:replace="common/similar :: nav"></div>

        <!-- 主体（一般只改变这里的内容） -->
        <div class="blog-body">
        <!-- canvas -->
            <canvas id="canvas-banner" style="background: rgb(62,49,93);"></canvas>
            <!--为了及时效果需要立即设置canvas宽高，否则就在home.js中设置-->
            <script type="text/javascript">
                var canvas = document.getElementById('canvas-banner');
                canvas.width = window.document.body.clientWidth - 10; //减去滚动条的宽度
                if (screen.width >= 992) {
                    canvas.height = window.innerHeight- 65;
                } else {
                    canvas.height = window.innerHeight - 65;
                };
            </script>
            <div class="blog-container">
                <blockquote class="layui-elem-quote sitemap layui-breadcrumb shadow">
                    <a href="/" title="网站首页">网站首页</a>
                    <a href="/article" title="文章专栏">文章专栏</a>
                    <a th:if="${article!=null}"><cite th:text="${article.a_title}"></cite></a>
                </blockquote>
                <div class="blog-main">
                    <div class="blog-main-left">
                        <!-- 文章内容（使用Ueditor富文本编辑器发表的） -->




                              <div class="article-detail shadow animated fadeInLeft" th:if="${article!=null}">
                            <div class="article-detail-title" th:text="${article.a_title}">

                            </div>
                            <div class="article-detail-info">
                                编辑时间：<span th:text="${article.a_time}"></span>
                                作者：<span th:text="${article.a_author}"></span>
                                浏览量：<span th:text="${article.a_watches}"></span>
                            </div>
                            <div th:utext="${article.a_context}"></div>
                        </div>


                        <!-- 评论区域 -->
                        <div class="blog-module shadow animated fadeInLeft" style="box-shadow: 0 1px 8px #a6a6a6;">
                            <div id="SOHUCS" sid="5b2bbb0cddc57e2fd814d3cc"  data-title="如何利用vw+rem进行移动端布局"></div>
                            <fieldset class="layui-elem-field layui-field-title" style="margin-bottom:0">
                                <legend>来说两句吧</legend>
                                <div class="layui-field-box">
                                    <!--<form class="layui-form blog-editor" action="" method="post">-->

                                    	<!--<div class="layui-unselect fly-edit layui-layedit-tool">
                                    		<span type="face" title="插入表情"><i class="iconfont icon-yxj-expression layui-icon layedit-tool-face" style="top: 1px;"></i>
                                    		</span>
                                    		<span type="picture" title="插入图片"><i class="iconfont icon-tupian layui-icon layedit-tool-face "></i></span>
                                    		<span type="href" title="超链接格式"><i class="iconfont icon-lianjie layui-icon layedit-tool-link"></i></span>
                                    		<span type="code" title="插入代码或引用"><i class="iconfont icon-emwdaima layui-icon layedit-tool-face" style="top: 1px;"> </i></span>
                                    		<span type="yulan" title="预览"><i class="iconfont icon-yulan1 layui-icon "></i></span>
                                    	</div>-->
                                        <!--<div class="layui-form-item">
                                            <textarea id="L_content" name="ReplyConten" required="" lay-verify="required" placeholder="我要回答" class="layui-textarea fly-editor" style="height: 150px;"></textarea>
                                        </div>-->



                               <!--    </form>-->
                                </div>

                            </fieldset>
                            <textarea class="layui-textarea" id="LAY_demo1" style="display: none;">
                                    请输入内容
                            </textarea>
                            <div class="site-demo-button" style="margin-top: 20px;">
                                <button class="layui-btn site-demo-layedit" data-type="content" >提交评论</button></div>
                            <div class="blog-module-title" style="margin-top: 40px;">最新评论</div>
                            <ul class="blog-comment" style="width: 100%;" th:fragment="commitList" th:if="${commit}!=null">

                            <li style="width: 100%;" th:each="com:${commit}">
                             <div style="width: 100%;">
                                 <img style="width:10%;border-radius: 100%; " th:attr="src=${com.cpath}">
                                 &nbsp;&nbsp;<span style="color: #01AAED" th:text="${com.c_nickname}">sss</span>&nbsp;&nbsp;&nbsp;&nbsp; <span th:text="${com.c_time}">2019-5-20 18:30:33</span> &nbsp;&nbsp;<span th:text="${comStat.index}+1">0</span>楼
                             </div>
                            <div style="margin-left: 13%;">
                                <p th:utext="${com.c_content}">ssdsdaddaddads</p>
                            </div>
                            </li>
                           <!--
                                <li style="width: 100%;">
                                    <div style="width: 100%;">
                                        <img style="width:10%;border-radius: 100%; " src="img/sss.png">
                                        &nbsp;&nbsp;<span style="color: #01AAED">sss</span>&nbsp;&nbsp;&nbsp;&nbsp; <span>2019-5-20 18:30:33</span> &nbsp;&nbsp;<span>2</span>楼
                                    </div>
                                    <div style="margin-left: 13%;">
                                        <p >ssdsdaddaddads</p>
                                    </div>
                                </li>-->
                            </ul>
                        </div>
                    </div>
                    <div class="blog-main-right">
                        <!--右边悬浮 平板或手机设备显示-->
                        <div class="category-toggle"><i class="fa fa-chevron-left"></i></div>
                        <!--这个div位置不能改，否则需要添加一个div来代替它或者修改样式表-->
                       <!--分类导航-->
						<div th:replace="common/articleContext :: classify"></div>
                        <!--热门评论-->
						<div th:replace="common/similar :: topComments"></div>
						<!--热评用户-->
                        <div th:replace="common/similar :: hotReviewUser"></div>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>

        <!-- 底部 -->
<footer th:replace="common/similar :: foot"></footer>

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?e938abcd1c7d773fc7fafb0de140a9ab";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>





    <!--侧边导航-->
    <div th:replace="common/similar :: sidenav"></div>
                <!--分享窗体-->
<div th:replace="common/similar :: sharingForm"></div>
                    <!--遮罩-->
                    <div class="blog-mask animated layui-hide"></div>

	</body>
	<script type="text/javascript" src="../layui/layui.js" ></script>
	<script type="text/javascript" src="../js/goble.js" ></script>
	<script type="text/javascript" src="../js/page.js" ></script>
    <script type="text/javascript" src="../js/index.js" ></script>
    <script type="text/javascript" src="../js/utils.js"></script>
	<script type="text/javascript">
		$(function () {
			$(".layui-nav-item").eq(1).addClass("layui-this")
			$(".blog-nav-left .layui-nav-item").eq(1).addClass("layui-this")
		})
	</script>
    <script th:inline="javascript">
        var userinfo = [[${userinfo}]];
        var aid=[[${aid}]];
        layui.use('layedit', function(){
            var layedit = layui.layedit
                ,$ = layui.jquery;
            //自定义工具栏
            var index = layedit.build('LAY_demo1', {
                tool: ['strong','italic','underline','del','|','left', 'center', 'right', '|', 'face']
                ,height: 200
            })
            $('.site-demo-layedit').on('click', function(){
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
            });
            //编辑器外部操作
            var active = {
                content: function(){

                    if(userinfo!=null){
                    if (layedit.getContent(index).trim()==null||layedit.getContent(index).trim()=='') //获取编辑器内容)
                    {
                        layui.use("layer", function () {
                            var layer = layui.layer;
                            layer.msg("你的评论不能为空!")
                        });
                    }else {
                        var date=new Date();
                        date=dateFtt("yyyy-MM-dd HH:mm:ss",date);
                        var commit={
                            cpath:userinfo.u_photo,
                            c_time:date,
                            aid:aid,
                            c_nickname:$(".nickname").text(),
                            c_content:layedit.getContent(index)
                        }
                        $.ajax({
                            type:"post",
                            url:"commit",
                            data:JSON.stringify(commit),
                            contentType:"application/json;charset=utf-8",
                            success:function (data) {
                            $(".blog-comment").html(data);
                            }
                        })
                        layui.use("layer", function () {
                            var layer = layui.layer;
                            layer.msg("提交成功!")
                        });
                    layedit.setContent(index,"请输入内容");
                    }
                }else{
                        layer.msg("你还没有登录!")
                    }
                }
            };
        });
    </script>
</html>
